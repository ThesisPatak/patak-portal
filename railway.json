{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "dockerfile"
  },
  "deploy": {
    "restartPolicyCondition": "on-failure",
    "restartPolicyMaxRetries": 5,
    "environment": {
      "DATA_DIR": "/data",
      "NODE_ENV": "production",
      "JWT_SECRET": "${JWT_SECRET}",
      "PAYMONGO_PUBLIC_KEY": "${PAYMONGO_PUBLIC_KEY}",
      "PAYMONGO_SECRET_KEY": "${PAYMONGO_SECRET_KEY}"
    },
    "volumes": [
      {
        "name": "data",
        "mountPath": "/data"
      }
    ]
  }
}
